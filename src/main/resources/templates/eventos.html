<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout('Eventos', ~{::section})}">
<section>
    <div style="text-align: center; margin-bottom: 40px;">
        <h2 style="color: #003366; font-size: 2.5em; margin-bottom: 10px;">Eventos Universitarios</h2>
        <p style="color: #666;">Descubre todas nuestras actividades acadÃ©micas y culturales</p>
        <div style="width: 60px; height: 4px; background: #ffd700; margin: 15px auto;"></div>
    </div>

    <!-- BotÃ³n para agregar evento -->
    <div style="text-align: center; margin-bottom: 30px;">
        <a th:href="@{/eventos/nuevo}" style="background: #003366; color: white; padding: 15px 30px; text-decoration: none; border-radius: 5px; display: inline-block; font-weight: bold;">
            â• Crear Nuevo Evento
        </a>
    </div>

    <!-- Filtros -->
    <div style="display: flex; justify-content: center; gap: 15px; margin-bottom: 30px; flex-wrap: wrap;">
        <a th:href="@{/eventos}"
           th:style="${categoriaActual == null} ? 'background: #003366; color: white;' : 'background: transparent; color: #003366;'"
           style="padding: 8px 20px; border: 2px solid #003366; border-radius: 25px; text-decoration: none; font-weight: bold;">
            Todos
        </a>
        <a th:href="@{/eventos(categoria='academico')}"
           th:style="${categoriaActual == 'academico'} ? 'background: #003366; color: white;' : 'background: transparent; color: #003366;'"
           style="padding: 8px 20px; border: 2px solid #003366; border-radius: 25px; text-decoration: none;">
            AcadÃ©micos
        </a>
        <a th:href="@{/eventos(categoria='cultural')}"
           th:style="${categoriaActual == 'cultural'} ? 'background: #003366; color: white;' : 'background: transparent; color: #003366;'"
           style="padding: 8px 20px; border: 2px solid #003366; border-radius: 25px; text-decoration: none;">
            Culturales
        </a>
        <a th:href="@{/eventos(categoria='tecnologia')}"
           th:style="${categoriaActual == 'tecnologia'} ? 'background: #003366; color: white;' : 'background: transparent; color: #003366;'"
           style="padding: 8px 20px; border: 2px solid #003366; border-radius: 25px; text-decoration: none;">
            TecnologÃ­a
        </a>
    </div>

    <!-- EVENTOS DINÃMICOS DE LA BD (ARRIBA) -->
    <div class="eventos-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px; margin-bottom: 50px; max-width: 1200px; margin-left: auto; margin-right: auto;">

        <div th:each="evento : ${eventos}" style="background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1); transition: transform 0.3s;"
             onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">

            <div style="position: relative;">
                <img th:if="${evento.imagenUrl}" th:src="@{'/uploads/' + ${evento.imagenUrl}}"
                     style="width: 100%; height: 200px; object-fit: cover;" alt="Evento">
                <div th:unless="${evento.imagenUrl}"
                     style="width: 100%; height: 200px; background: linear-gradient(135deg, #003366, #004488); display: flex; align-items: center; justify-content: center; color: white; font-size: 3em;">
                    ğŸ“…
                </div>

                <span th:text="${evento.categoria}"
                      style="position: absolute; top: 15px; right: 15px; background: #ffd700; color: #003366; padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em; text-transform: uppercase;">
                </span>
            </div>

            <div style="padding: 20px;">
                <div style="color: #666; font-size: 0.9em; margin-bottom: 10px;">
                    ğŸ“… <span th:text="${#temporals.format(evento.fecha, 'dd MMMM yyyy')}">Fecha</span>
                    <span th:if="${evento.lugar}" style="margin-left: 15px;">ğŸ“ <span th:text="${evento.lugar}">Lugar</span></span>
                </div>

                <h3 style="color: #003366; margin-bottom: 10px; font-size: 1.2em;" th:text="${evento.titulo}">TÃ­tulo</h3>
                <p style="color: #555; line-height: 1.5; margin-bottom: 15px; font-size: 0.9em;" th:text="${#strings.abbreviate(evento.descripcion, 60)}">DescripciÃ³n...</p>

                <!-- BOTONES: Ver GalerÃ­a, Editar, Eliminar -->
                <div style="display: flex; gap: 5px;">
                    <a th:href="@{/eventos/{id}(id=${evento.id})}"
                       style="flex: 2; padding: 8px; background: #003366; color: white; text-decoration: none; border-radius: 5px; text-align: center; font-weight: bold; font-size: 0.85em;">
                        ğŸ“· Ver GalerÃ­a
                    </a>
                    <a th:href="@{/eventos/editar/{id}(id=${evento.id})}"
                       style="flex: 1; padding: 8px; background: #ffd700; color: #003366; text-decoration: none; border-radius: 5px; text-align: center; font-weight: bold; font-size: 0.85em;">
                        âœï¸
                    </a>
                    <a th:href="@{/eventos/eliminar/{id}(id=${evento.id})}"
                       onclick="return confirm('Â¿Eliminar este evento y todas sus fotos?');"
                       style="flex: 1; padding: 8px; background: #dc3545; color: white; text-decoration: none; border-radius: 5px; text-align: center; font-weight: bold; font-size: 0.85em;">
                        ğŸ—‘ï¸
                    </a>
                </div>
            </div>
        </div>

        <!-- Mensaje si no hay eventos -->
        <div th:if="${#lists.isEmpty(eventos)}" style="grid-column: 1 / -1; text-align: center; padding: 40px; color: #666; background: #f8f9fa; border-radius: 10px;">
            <p style="font-size: 1.2em;">No hay eventos disponibles.</p>
            <a th:href="@{/eventos/nuevo}" style="background: #003366; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; display: inline-block; margin-top: 10px;">
                Crear el primer evento
            </a>
        </div>
    </div>

    <hr style="border: none; border-top: 3px solid #ffd700; margin: 40px auto; max-width: 200px;">

    <!-- EVENTOS ESTÃTICOS ORIGINALES (ABAJO) -->
    <div style="text-align: center; margin-bottom: 30px;">
        <h3 style="color: #003366; font-size: 1.5em;">Eventos Destacados Anteriores</h3>
    </div>

    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px; margin-bottom: 50px; max-width: 1000px; margin-left: auto; margin-right: auto; opacity: 0.9;">

        <!-- Evento 1: IA -->
        <div style="background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
            <div style="position: relative;">
                <img src="/images/evento-ia.jpg" alt="IA" style="width: 100%; height: 200px; object-fit: cover;">
                <span style="position: absolute; top: 15px; right: 15px; background: #ffd700; color: #003366; padding: 5px 15px; border-radius: 20px; font-weight: bold;">TecnologÃ­a</span>
            </div>
            <div style="padding: 20px;">
                <div style="color: #666; font-size: 0.9em; margin-bottom: 10px;">ğŸ“… 10 de marzo de 2025</div>
                <h3 style="color: #003366; margin-bottom: 15px;">Conferencia sobre IA en EducaciÃ³n</h3>
                <p style="color: #555; line-height: 1.6;">Explora el impacto de la Inteligencia Artificial en la educaciÃ³n moderna.</p>
            </div>
        </div>

        <!-- Evento 2: Feria -->
        <div style="background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
            <div style="position: relative;">
                <img src="/images/evento-feria.jpg" alt="Feria" style="width: 100%; height: 200px; object-fit: cover;">
                <span style="position: absolute; top: 15px; right: 15px; background: #ffd700; color: #003366; padding: 5px 15px; border-radius: 20px; font-weight: bold;">AcadÃ©mico</span>
            </div>
            <div style="padding: 20px;">
                <div style="color: #666; font-size: 0.9em; margin-bottom: 10px;">ğŸ“… 25 de abril de 2025</div>
                <h3 style="color: #003366; margin-bottom: 15px;">Feria de Empleabilidad</h3>
                <p style="color: #555; line-height: 1.6;">Conecta con las mejores empresas y descubre oportunidades laborales.</p>
            </div>
        </div>

        <!-- Evento 3: Cultural -->
        <div style="background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
            <div style="position: relative;">
                <img src="/images/evento-cultural.jpg" alt="Cultural" style="width: 100%; height: 200px; object-fit: cover;">
                <span style="position: absolute; top: 15px; right: 15px; background: #ffd700; color: #003366; padding: 5px 15px; border-radius: 20px; font-weight: bold;">Culturales</span>
            </div>
            <div style="padding: 20px;">
                <div style="color: #666; font-size: 0.9em; margin-bottom: 10px;">ğŸ“… 10 de junio de 2025</div>
                <h3 style="color: #003366; margin-bottom: 15px;">Eventos Culturales Nuestra Sede</h3>
                <p style="color: #555; line-height: 1.6;">Presentaciones culturales de la sede Bajo Cauca.</p>
            </div>
        </div>

        <!-- Evento 4: Simposio -->
        <div style="background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
            <div style="position: relative;">
                <img src="/images/evento-simposio.jpg" alt="Simposio" style="width: 100%; height: 200px; object-fit: cover;">
                <span style="position: absolute; top: 15px; right: 15px; background: #ffd700; color: #003366; padding: 5px 15px; border-radius: 20px; font-weight: bold;">TecnologÃ­a</span>
            </div>
            <div style="padding: 20px;">
                <div style="color: #666; font-size: 0.9em; margin-bottom: 10px;">ğŸ“… 15 de mayo de 2025</div>
                <h3 style="color: #003366; margin-bottom: 15px;">Simposio de InnovaciÃ³n TecnolÃ³gica</h3>
                <p style="color: #555; line-height: 1.6;">Tendencias en tecnologÃ­a e innovaciÃ³n.</p>
            </div>
        </div>
    </div>
</section>
</html>