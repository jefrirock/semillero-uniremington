<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout('Inicio', ~{::section})}">
<section>
    <!-- üé† CARRUSEL DE NOTICIAS (Reemplaza el hero est√°tico) -->
    <div id="carrusel-noticias" style="position: relative; width: 100%; height: 400px; overflow: hidden; border-radius: 10px; margin-bottom: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">

        <div th:each="noticia, iterStat : ${noticias}"
             class="slide-noticia"
             th:attr="data-index=${iterStat.index}"
             style="position: absolute; width: 100%; height: 100%; opacity: 0; transition: opacity 0.8s ease-in-out; background-size: cover; background-position: center;">

            <!-- Fondo oscuro para texto legible -->
            <div style="position: absolute; inset: 0; background: linear-gradient(rgba(0,51,102,0.7), rgba(0,51,102,0.9));">
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: white; padding: 20px; max-width: 800px;">
                    <h1 style="font-size: 2.5em; margin-bottom: 15px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); animation: slideInDown 1s ease;"
                        th:text="${noticia.titulo}">T√≠tulo</h1>
                    <p style="font-size: 1.2em; margin-bottom: 20px; opacity: 0.9;"
                       th:text="${noticia.subtitulo}">Subt√≠tulo</p>
                    <a th:if="${noticia.link}" th:href="${noticia.link}"
                       style="display: inline-block; background: #ffd700; color: #003366; padding: 12px 30px; text-decoration: none; border-radius: 25px; font-weight: bold; transition: transform 0.3s;"
                       onmouseover="this.style.transform='scale(1.05)'"
                       onmouseout="this.style.transform='scale(1)'">
                        Ver m√°s ‚Üí
                    </a>
                </div>
            </div>

            <!-- Imagen de fondo -->
            <img th:if="${noticia.imagenUrl}" th:src="${noticia.imagenUrl}"
                 style="position: absolute; z-index: -1; width: 100%; height: 100%; object-fit: cover;" alt="">
        </div>

        <!-- Si no hay noticias, mostrar hero est√°tico -->
        <div th:if="${#lists.isEmpty(noticias)}" style="position: absolute; inset: 0; background: linear-gradient(rgba(0,51,102,0.8), rgba(0,51,102,0.8)), url('campus.jpg'); background-size: cover; display: flex; align-items: center; justify-content: center; color: white; text-align: center;">
            <div>
                <h1 style="font-size: 2.5em; margin-bottom: 15px;">Formando L√≠deres para el Futuro</h1>
                <p style="font-size: 1.2em;">M√°s de 100 a√±os de excelencia acad√©mica en Colombia</p>
            </div>
        </div>

        <!-- Controles del carrusel -->
        <button onclick="cambiarSlide(-1)" style="position: absolute; left: 20px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.2); color: white; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 20px; z-index: 10;">‚ùÆ</button>
        <button onclick="cambiarSlide(1)" style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.2); color: white; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 20px; z-index: 10;">‚ùØ</button>

        <!-- Indicadores -->
        <div style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px; z-index: 10;">
            <span th:each="noticia, iterStat : ${noticias}"
                  class="indicador"
                  th:attr="onclick='irASlide(' + ${iterStat.index} + ')'"
                  style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; transition: background 0.3s;">
            </span>
        </div>
    </div>

    <!-- Anuncios con animaci√≥n scroll -->
    <div class="scroll-animado" style="background: #ffd700; padding: 15px; border-radius: 8px; margin-bottom: 30px; color: #003366; transform: translateY(20px); opacity: 0; transition: all 0.6s ease;">
        <div class="announcement-title" style="font-weight: bold; margin-bottom: 10px; display: flex; align-items: center;">
            <span style="margin-right: 8px;">üì¢</span> Anuncios Importantes
        </div>
        <ul style="margin: 0; padding-left: 20px;">
            <li>Inscripciones abiertas para el periodo 2026-1</li>
            <li>Nuevos convenios internacionales disponibles</li>
            <li>Becas disponibles para estudiantes de alto rendimiento</li>
        </ul>
    </div>

    <!-- Feature Grid con animaciones -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
        <div class="scroll-animado tarjeta-elevacion" onclick="openModal('historiaModal')"
             style="cursor: pointer; background: linear-gradient(135deg, #ffffff 0%, #f0f8ff 100%); border-left: 5px solid #003366; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: all 0.3s ease; transform: translateY(20px); opacity: 0;">
            <h3 style="color: #003366; margin-bottom: 15px; font-size: 1.5em;">Nuestra Historia</h3>
            <p style="color: #555; line-height: 1.6;">Fundada en 1915, Uniremington ha sido pionera en la educaci√≥n superior en Colombia.</p>
        </div>

        <div class="scroll-animado tarjeta-elevacion" onclick="openModal('misionModal')"
             style="cursor: pointer; background: linear-gradient(135deg, #ffffff 0%, #f0f8ff 100%); border-left: 5px solid #003366; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: all 0.3s ease; transform: translateY(20px); opacity: 0; transition-delay: 0.1s;">
            <h3 style="color: #003366; margin-bottom: 15px; font-size: 1.5em;">Misi√≥n</h3>
            <p style="color: #555; line-height: 1.6;">Somos una instituci√≥n de educaci√≥n superior que forma ciudadanos competentes.</p>
        </div>

        <div class="scroll-animado tarjeta-elevacion" onclick="openModal('visionModal')"
             style="cursor: pointer; background: linear-gradient(135deg, #ffffff 0%, #f0f8ff 100%); border-left: 5px solid #003366; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: all 0.3s ease; transform: translateY(20px); opacity: 0; transition-delay: 0.2s;">
            <h3 style="color: #003366; margin-bottom: 15px; font-size: 1.5em;">Visi√≥n</h3>
            <p style="color: #555; line-height: 1.6;">Ser reconocida como una instituci√≥n de educaci√≥n superior de alta calidad.</p>
        </div>
    </div>

    <!-- Stats con animaci√≥n de contador -->
    <div class="scroll-animado" style="display: flex; justify-content: space-around; flex-wrap: wrap; margin: 30px 0; background: #003366; padding: 20px; border-radius: 8px; color: white; transform: translateY(20px); opacity: 0; transition: all 0.6s ease;">
        <div style="text-align: center; padding: 15px;" class="contador-animado">
            <div style="font-size: 2em; font-weight: bold; color: #ffd700;">25+</div>
            <div>Docentes Activos</div>
        </div>
        <div style="text-align: center; padding: 15px;">
            <div style="font-size: 2em; font-weight: bold; color: #ffd700;">300+</div>
            <div>Estudiantes en Semillero</div>
        </div>
        <div style="text-align: center; padding: 15px;">
            <div style="font-size: 2em; font-weight: bold; color: #ffd700;">95%</div>
            <div>Investigaci√≥n Aplicada</div>
        </div>
        <div style="text-align: center; padding: 15px;">
            <div style="font-size: 2em; font-weight: bold; color: #ffd700;">20+</div>
            <div>Proyectos Activos</div>
        </div>
    </div>

    <!-- Modales -->
    <div id="historiaModal" class="modal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);">
        <div class="modal-content" style="background-color: #fefefe; margin: 10% auto; padding: 30px; border-radius: 10px; width: 80%; max-width: 600px; position: relative;">
            <span class="close" onclick="closeModal('historiaModal')" style="color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;">&times;</span>
            <h2 style="color: #003366; margin-bottom: 20px;">Nuestra Historia</h2>
            <p style="line-height: 1.8; color: #555;">Fundada en 1915, Uniremington ha sido pionera en la educaci√≥n superior en Colombia. A lo largo de m√°s de 100 a√±os, hemos formado a miles de profesionales que han contribuido al desarrollo del pa√≠s. Nuestro compromiso con la excelencia acad√©mica y la innovaci√≥n nos ha permitido mantenernos como una de las instituciones m√°s reconocidas del pa√≠s.</p>
        </div>
    </div>

    <div id="misionModal" class="modal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);">
        <div class="modal-content" style="background-color: #fefefe; margin: 10% auto; padding: 30px; border-radius: 10px; width: 80%; max-width: 600px; position: relative;">
            <span class="close" onclick="closeModal('misionModal')" style="color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;">&times;</span>
            <h2 style="color: #003366; margin-bottom: 20px;">Misi√≥n</h2>
            <p style="line-height: 1.8; color: #555;">Somos una instituci√≥n de educaci√≥n superior que forma ciudadanos competentes, √©ticos y comprometidos con el desarrollo sostenible de la sociedad, a trav√©s de programas acad√©micos de calidad, investigaci√≥n innovadora y extensi√≥n social.</p>
        </div>
    </div>

    <div id="visionModal" class="modal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);">
        <div class="modal-content" style="background-color: #fefefe; margin: 10% auto; padding: 30px; border-radius: 10px; width: 80%; max-width: 600px; position: relative;">
            <span class="close" onclick="closeModal('visionModal')" style="color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;">&times;</span>
            <h2 style="color: #003366; margin-bottom: 20px;">Visi√≥n</h2>
            <p style="line-height: 1.8; color: #555;">Ser reconocida como una instituci√≥n de educaci√≥n superior de alta calidad, l√≠der en innovaci√≥n pedag√≥gica, investigaci√≥n aplicada y proyecci√≥n social, que forma profesionales √≠ntegros y competentes para el desarrollo regional y nacional.</p>
        </div>
    </div>

    <script>
        // üé† Carrusel autom√°tico
        let slideActual = 0;
        let slides = [];
        let indicadores = [];

        function initCarrusel() {
            slides = document.querySelectorAll('.slide-noticia');
            indicadores = document.querySelectorAll('.indicador');

            if (slides.length > 0) {
                mostrarSlide(0);
                setInterval(() => cambiarSlide(1), 5000);
            }
        }

        function mostrarSlide(index) {
            if (slides.length === 0) return;

            slides.forEach((slide, i) => {
                slide.style.opacity = i === index ? '1' : '0';
            });

            if (indicadores.length > 0) {
                indicadores.forEach((ind, i) => {
                    ind.style.background = i === index ? '#ffd700' : 'rgba(255,255,255,0.5)';
                });
            }
            slideActual = index;
        }

        function cambiarSlide(direccion) {
            if (slides.length === 0) return;
            let nuevo = slideActual + direccion;
            if (nuevo >= slides.length) nuevo = 0;
            if (nuevo < 0) nuevo = slides.length - 1;
            mostrarSlide(nuevo);
        }

        function irASlide(index) {
            mostrarSlide(index);
        }

        // Funciones para modales
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Cerrar modal al hacer clic fuera
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // Animaciones al hacer scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: "0px 0px -50px 0px"
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.transform = 'translateY(0)';
                    entry.target.style.opacity = '1';
                }
            });
        }, observerOptions);

        // Inicializar todo cuando el DOM est√© listo
        document.addEventListener('DOMContentLoaded', function() {
            initCarrusel();
            document.querySelectorAll('.scroll-animado').forEach(el => observer.observe(el));
        });
    </script>
</section>
</html>